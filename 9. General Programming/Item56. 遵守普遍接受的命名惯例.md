# Item56. 遵守普遍接受的命名惯例

Java 平台建立了一整套很好的命名惯例（naming convention），其中有许多命名惯例包含在了**《The Java Language specification》「JLS，6.8」** 中。不严格地讲，这些命名惯例分为两大类：字面的和语法的。



字面的命名惯例比较少，但也涉及包、类、接口、方法、域和类型变量。应该尽量不违反这些惯例，不到万不得已，千万不要违反。如果API违反了这些惯例，它使用起来可能会很困难。如果实现违反了它们，它可能会难以维护。在这两种情况下，违反惯例都会潜在地绐使用这些代码的其他程序员带来困惑和苦恼，并且使他们做出错误的假设，造成程序出错。本条目将对这些惯例做简要的介绍。





**包的名称应该是层次状的**，用英文句号分隔每个部分。每个部分都包括小写字母和数字（很少使用数字）。任何将在你的组织之外使用的包，**其名称都应该以你的组织的 Internet域 名开头并且顶级域名放在前面**，例如`edu.cmu`、`com.sun`、`gov.nsa`。标准类库和一些可选的包，其名称以 `java` 和 `javax` 开头，这属于这一规则的例外。用户创建的包的名称绝不能以 java 和 javax 开头。关于将 Internet 域名转换为包名称前缀的详细规则，请参见《The java language Specification》。





包名称的其余部分应该包括一个或者多个描述该包的组成部分。**这些组成部分应该比较简短，通常不超过8个字符。鼓励使用有意义的缩写形式**，例如，使用 `util` 而不是 `utilities`。**只取首字母的缩写形式也是可以接受的**，例如 `awt`。每个组成部分通常都应该由一个单词或者一个缩写词组成。



许多包的名称中除了 Internet 域名就只有一个组成部分。**大型工具包可适当使用额外的组成部分，它们的规模决定了应该分割成非正式的层次结构**。例如，`javax.Swing` 包有着非常丰富的包层次，如 `javax.swing.plaf. metal`。这样的包通常被称为「**子包**」，尽管Java语言并没有提供对包层次的支持。



类和接口的名称，包括枚举和注解类型的名称，都应该包括一个或者多个单词，每个单词的首字母大写，例如 `Timer`和 `TimerTask`。应该尽量避免用缩写，除非是一些首字母缩写和些通用的缩写，比如 max 和 min。对于首字母缩写，到底应该全部大写还是只有首字母大写，没有统一的说法。虽然大写更常见一些，但还是强烈建议采用仅有首字母大写的形式：即使连续出现多个首字母缩写的形式，你仍然可以区分出一个单词的起始处和结束处。下面这两个类名你更愿意看到哪一个， `HTTPURL` 还是 `HttpUrl`？

方法和域的名称与类和接口的名称一样，都遵守相同的字面惯例，只不过方法或者域的名称的第一个字母应该小写，例如 `remove`、 `ensureCapacity`。如果由首字母缩写组成的单词是一个方法或者域名称的第一个单词，它就应该是小写形式。



上述规则的唯一例外是“常量域”，它的名称应该包含一个或者多个大写的单词，中间用下划线符号隔开，例如 `VALUES` 或 `NEGATIVE_INFINITY`。常量域是个静态 final 域 ，它的值是不可变的。如果静态 final 域有基本类型，或者有不可变的引用类型，它就是个常量域。例如，枚举常量是常量域。如果静态 final 域有个可变的引用类型，若被引用的对象是不可变的，它也仍然可以是个常量域。注意，常量域是唯一推荐使用下划线的情形。



局部变量名称的字面命名惯例与成员名称类似，只不过它也允许缩写，单个字符和短字符序列的意义取决于局部变量所在的上下文环境，例如`i`、`xref`和 `houseNumber`。



类型参数名称通常由单个字母组成。这个字母通常是以下五种类型之一：`T` 表示任意的类型，`B` 表示集合的元素类型，`K` 和 `V` 表示映射的键和值类型， `X` 表示异常。任何类型的序列可以是 `T`、`U`、`V`或者`T1`、`T2`、`T3`。



![](https://bucket-1255905387.cos.ap-shanghai.myqcloud.com/2019-01-25-22-52-08_r18.png)





语法命名惯例比字面惯例更加灵活，也更有争议。对于包而言，没有语法命名惯例。类（包括枚举类型）通常用一个名词或者名词短语命名，例如 `Timer`、 `BufferedWriter`或者`ChessPiece`。接口的命名与类相似，例如 `Collection`或 `Comparator`，或者用一个以“`-able`”或“-`ible`”结尾的形容词来命名，例如 `Runnable`、 `Iterable`或者 `Accessible`。由于注解类型有这么多用处，因此没有单独安排词类。名词、动词、介词和形容词都很常用，例如 `BindingAnnotationInject`、 `ImplementedBy` 或者 `Singleton`。



执行某个动作的方法通**常用动词或者动词短语**来命名，例如 `append` 或 `drawImage`。对于返回 `boolean` 值的方法，其名称往往以单词“`is`”开头，很少用`has`，后面跟名词或名词短语，或者任何具有形容词功能的单词或短语，例如 `isDigit`、 `isProbablePrime`、 `isEmpty`、 `isEnabled`或者 `hasSiblings`。



如果方法返回被调用对象的一个非 `boolean` 的函数或者属性，它通常用名词、名词短语，或者以动词“`get`”开头的动词短语来命名，例如`size`、`hashCode`或者 `getTime`。有一种声音认为，只有第三种形式（以“`get`”开头）才可以接受，但是这种说法没有什么根据。前两种形式往往会产生可读性更好的代码，例如

![](https://bucket-1255905387.cos.ap-shanghai.myqcloud.com/2019-01-25-22-56-12_r80.png)



如果方法所在的类是个`Bean`「JavaBeans」，就要强制使用以“`get`”开头的形式，而且，如果考虑将来要把这个类转变成`Bean`，这么做也是明智的。另外，如果这个类包含一个方法用于设置同样的属性，则强烈建议采用这种形式。在这种情况下，这两个方法应该被命名为`getAttribute`、 `SetAttribute`。



有些方法的名称值得专门提及。转换对象类型的方法、返回不同类型的独立对象的方法甬常被称为 `toType`，例如 `toString` 和 `toArray`。返回视图（view，**视图的类型不同于接收对象的类型**）的方法通常被称为 `as Type`，例如 `asList`。返回一个与被调用对象同值的基本类型的方法，通常被称为 `typeValue`，例如 `intValue`。静态工厂的常用名称为 `valueOf` 、`of`、 `newInstance`、 `getType`和 `NewType`。



域名称的语法惯例没有很好地建立起来，也没有类、接口和方法名称的惯例那么重要，因为设计良好的AP很少会包含暴露出来的域。 `boolean` 类型的域命名与 `boolean` 类型的访问方法（ accessor method）很类似，但是省去了初始的“`is`”，例如 `initialized` 和 `composite`。其他类型的域通常用名词或者名词短语来命名，比如 `height`、`digits` 或 `bodyStyle`。局部变量的语法惯例类似于域的语法惯例，但是更弱一些。



总而言之，**把标准的命名惯例当作一种内在的机制来看待，并且学着用它们作为第二特性**。字面惯例是非常直接和明确的；语法惯例则更复杂，也更松散。